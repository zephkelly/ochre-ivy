import"./assets/modulepreload-polyfill-ec808ebb.js";/* empty css     */import{d as $,f as w,a as V}from"./helperFunctions.js";const A=document.querySelector(".navbar"),i=document.querySelector(".nav-menu"),O=document.querySelector(".nav-text"),m=document.querySelector(".nav-text-spacer");let J=!1;const P=document.querySelector(".nav-menu-btn"),C=document.querySelector(".nav-btn-bg"),q=document.getElementById("notification");let K=!1;window.addEventListener("load",()=>{m&&(J=!0),ce(),screen.width<=982&&(i.style.display="none"),q&&(K=!0,q.style.left="2rem",$(4500).then(()=>{q.style.opacity="0",$(300).then(()=>{q.remove()})}))});window.addEventListener("resize",()=>{L==!0&&(L=!1,Z()),screen.width<=982?i.style.display="none":i.style.display=""});let L=!1;P.addEventListener("click",()=>{L=!L,Z()});document.addEventListener("click",e=>{L&&e.target!=i&&e.target!=P&&(L=!1,Z())});function Z(){L?(i.style.display="block",i.style.boxShadow="0rem 2rem 2rem 0rem rgba(0, 0, 0, 0.15)",i.style.opacity="1",C.style.backgroundColor="white",C.style.boxShadow="0rem -1rem 1.3rem 0rem rgba(0, 0, 0, 0.2)"):(i.style.opacity="0",i.style.boxShadow="",C.style.backgroundColor="transparent",C.style.boxShadow="",$(150).then(()=>{i.style.display="",i.style.opacity=""}))}let D=!1,se=0;function ce(){$(100).then(()=>se=document.documentElement.scrollTop).then(()=>{if(se>20){if(D)return;e("0rem 0rem 2rem 0rem rgba(0, 0, 0, 0.05)","3.8rem","1.4rem","1.8rem",!0),K&&(q.style.top="5.5rem")}else{if(!D)return;e("","","","",!1),K&&(q.style.top="")}function e(t,n,o,l,v){if(A.style.boxShadow=t,A.style.height=n,O.style.fontSize=o,P.style.fontSize=l,D=v,A.style.transition="all 0.3s ease-out",D){if(A.style.backgroundColor="white",O.style.marginBottom="0",P.style.top="0.5rem",i.style.top="4.2rem",i.style.borderRadius="0 0 0.5rem 0.5rem",!J)return;m.style.opacity="0",m.style.bottom="-0.5rem",m.style.left="0.5rem",m.style.height="0"}else{if(A.style.backgroundColor="#f8c6b7",O.style.marginBottom="",P.style.top="",i.style.top="7rem",i.style.borderRadius="",!J)return;m.style.opacity="",m.style.bottom="",m.style.left="",m.style.height=""}}})}window.addEventListener("scroll",()=>{ce()});const G=document.querySelector(".blog-desc");if(G!=null){const e=G.innerHTML;G.innerHTML=w(e,150)}const F=document.querySelectorAll(".recipe-desc");if(F!=null)for(let e=0;e<F.length;e++){const t=F[e].innerHTML;F[e].innerHTML=w(t,250)}const I=document.querySelectorAll(".blog-date");if(I!=null)for(let e=0;e<I.length;e++){const t=I[e].innerHTML;I[e].innerHTML=V(t,!0)}let Q=null;const y=document.querySelector(".search-input");let re="",s="";const M=document.querySelector(".filter-button.all"),ee=document.querySelector(".filter-button.recipes"),te=document.querySelector(".filter-button.newest"),ne=document.querySelector(".filter-button.oldest"),oe=document.querySelector(".filter-button.az"),de=[M,ee,te,ne,oe],T=document.querySelector(".blogs-home-nav"),f=document.querySelector(".blog-nav-title"),R=document.querySelector(".blog-nav-home"),W=document.querySelector(".blog-nav-all"),u=document.querySelector(".blogs-header-bgBox"),_=document.querySelector(".faux-page-home"),z=document.querySelector(".faux-page-all"),r=document.querySelectorAll(".featured-blog"),x=document.querySelectorAll(".featured-blog-link");let Y=document.querySelectorAll(".blog-date");const k=document.querySelectorAll(".blog-description"),B=document.querySelectorAll(".recipe-description");let h=document.querySelectorAll(".blog-description.all"),E=document.querySelectorAll(".blog-subtitle.all");const le=document.querySelector("#blogs-all .section-container"),X=document.querySelector("#blogs-more .more-button"),ue=document.querySelector("#footer-container");window.addEventListener("load",async()=>{Q=new URLSearchParams(window.location.search);const e=window.location.pathname;e.includes("/blog")&&!e.includes("/blog/")&&we()});let b=r.length-1,c=0,N="home";async function we(){Le(),async function(){const t=Q.get("section"),n=Q.get("filter");if(t==="all"){s=y.value,s.length>0&&(await p("&search="+s),d()),(n!==null||n!==void 0||n!=="none"||n!=="")&&(n==="all"?(d(),g(M)):n==="recipe"?(d(),g(ee)):n==="newest"?(d(),g(te)):n==="oldest"?(d(),g(ne)):n==="alphabetical"&&(d(),g(oe))),await p(""),me();return}else{fe();return}}();function e(){return window.innerWidth<630?180:400}for(let t=0;t<Y.length;t++){const n=Y[t].getAttribute("data-date");console.log(n);const o=V(n,!0);Y[t].innerText=o}for(let t=0;t<k.length;t++){const n=k[t].getAttribute("data-description"),o=w(n,e());k[t].innerText=o}for(let t=0;t<B.length;t++){const n=B[t].getAttribute("data-description"),o=w(n,250);B[t].innerText=o}for(let t=0;t<h.length;t++){const n=h[t].innerText,o=w(n,255);h[t].innerText=o}pe(),ie()}function Le(){de.forEach(t=>{t.addEventListener("click",()=>{t.classList.contains("active")||(new URLSearchParams(window.location.search).delete("page"),g(t))})});let e=!1;window.addEventListener("resize",()=>{pe(),window.innerWidth<460?(e||(a(k,400),a(B,180),e=!0),N==="home"?(T.style.paddingLeft="0rem",f.style.paddingLeft="0rem"):(T.style.paddingLeft="",f.style.paddingLeft="0rem")):window.innerWidth>630&&(e&&(a(k,400),a(B,250),e=!1),N==="home"?(T.style.paddingLeft="",f.style.paddingLeft=""):(T.style.paddingLeft="",f.style.paddingLeft="0rem")),ye(),ge()}),R.addEventListener("click",()=>{R.classList.contains("active")||fe()}),W.addEventListener("click",()=>{W.classList.contains("active")||(g(M),me())}),x.forEach(t=>{t.addEventListener("click",()=>{if(t.classList.contains("active"))return;const n=Array.from(x).indexOf(t);n>r.length-1||(b=c,c=n,x[b].classList.remove("active"),r[b].style.opacity="0",r[c].style.display="flex",x[c].classList.add("active"),setTimeout(()=>{r[b].style.display="none"},500),setTimeout(()=>{r[c].style.opacity="1"},5),clearInterval(U),U=setInterval(ie,1e4))})}),y.addEventListener("focus",()=>{s=y.value,s!==re&&(d(),p("&search="+s))}),y.addEventListener("keydown",t=>{if(s=y.value,t.key==="Enter"){if(s===re)return;d(),p("&search="+s)}}),y.addEventListener("input",()=>{if(s=y.value,s==""){p(""),g(M);return}d(),p("&search="+s)}),X.addEventListener("click",()=>{const t=new URLSearchParams(window.location.search),n=t.get("section");let o=t.get("page");o||(o="1");const l=t.get("filter");let v="section="+n+"&filter="+l;o&&p(v,parseInt(o)+1)})}function fe(){const e=new URLSearchParams(window.location.search);e.delete("section"),e.delete("filter"),e.delete("page"),window.history.replaceState({},"",`${window.location.pathname}?${e}`),U=setInterval(ie,6500),N="home",t(),y.value="",s="",le.innerHTML="",d(),R.classList.add("active"),W.classList.remove("active"),u.style.transform="rotate(-8deg)",u.style.position="absolute",u.style.top="",u.style.height="",u.style.borderRadius="",ue.style.borderTop="none",f.style.marginLeft="",z.classList.remove("active"),setTimeout(()=>{z.style.display="none",_.style.display="block",setTimeout(()=>{_.classList.add("active")},5)},150);function t(){window.innerWidth<630?(f.style.paddingLeft="0rem",T.style.paddingLeft=""):f.style.paddingLeft=""}}function me(){const e=new URLSearchParams(window.location.search);e.set("section","all"),e.delete("page"),window.history.replaceState({},"",`${window.location.pathname}?${e}`),N="all",U=null,t(),R.classList.remove("active"),W.classList.add("active"),u.style.transform="rotate(0deg)",u.style.position="fixed",u.style.top="0rem",u.style.height="120vh",u.style.borderRadius="0rem",ue.style.borderTop="2px solid var(--dark)",f.style.paddingLeft="0rem",_.classList.remove("active"),setTimeout(()=>{_.style.display="none",z.style.display="block",setTimeout(()=>{z.classList.add("active")},5)},150);function t(){window.innerWidth<630?(T.style.paddingLeft="",f.style.marginLeft="0rem"):f.style.marginLeft="-0.2rem"}}let U=null;function ie(){b=c,x[b].classList.remove("active"),r[b].style.opacity="0",setTimeout(()=>{r[b].style.display="none"},500),c=(c+1)%r.length,setTimeout(()=>{r[c].style.opacity="1"},5),r[c].style.display="flex",x[c].classList.add("active")}function g(e){d(),e.classList.add("active");const t=new URLSearchParams(window.location.search);function n(){return e===M?"none":e===ee?"recipe":e===te?"newest":e===ne?"oldest":e===oe?"alphabetical":(console.log("Cant find filter"),"none")}const o=n();t.set("filter",o),window.history.replaceState({},"",`${window.location.pathname}?${t}`),p("&filter="+o)}function d(){de.forEach(e=>{e.classList.remove("active")})}function ae(){le.innerHTML=""}function Se(e){e.length%10===0&&e.length>0?X.style.display="flex":X.style.display="none"}function qe(e){for(let l=0;l<e.length;l++)le.innerHTML+=`
    <div class="all-blog">
      <div class="cover-img">
        <img src="${e[l].cover}" alt="${e[l].title}" class="recipe-image">
      </div>
      <div class="content">
        <div class="wrapper">
          <h3 class="blog-title">${e[l].title}</h3>
          <h6 class="blog-subtitle all" data-subtitle="${e[l].subtitle}"></h6>
          <p class="blog-date all" data-date="${e[l].createdDate}"></p>
        </div>
        <div class="wrapper">
          <p class="blog-description all" data-description="${e[l].description}"></p>
          <a href="/blog/${e[l].uri}" class="blog-link-all accent-button button-outlined-accent">Read</a>
        </div>
      </div>
    </div>
  `;document.querySelectorAll(".blog-date.all").forEach(l=>{const v=l.getAttribute("data-date");l.innerHTML=V(v,!0)});const n=document.querySelectorAll(".blog-description.all"),o=document.querySelectorAll(".blog-subtitle.all");h=n,E=o,ye(),ge()}function ye(){window.innerWidth<400?a(h,80):window.innerWidth<530?a(h,200):window.innerWidth<800?a(h,380):a(h,200)}function ge(){window.innerWidth<400?a(E,64,"data-subtitle"):window.innerWidth<530?a(E,80,"data-subtitle"):window.innerWidth<800?a(E,150,"data-subtitle"):a(E,200,"data-subtitle")}async function p(e,t=1){(t==null||t==null)&&(t=1);const n=await fetch("/api/blog?display=true"+e+"&page="+t,{method:"GET",headers:{"Content-Type":"application/json"}});if(await n.status!==200){console.log("Error: "+n.status),ae();return}const o=await n.json();t==1&&ae(),Se(o),qe(o)}function pe(){window.innerWidth<980?r.forEach(e=>{const t=e.querySelector(".content"),n=t.outerHTML;e.removeChild(t),e.innerHTML+=n}):r.forEach(e=>{const t=e.querySelector(".cover-img"),n=t.outerHTML;e.removeChild(t),e.innerHTML+=n})}function a(e,t,n="data-description"){e.forEach(o=>{const l=o.getAttribute(n);o.innerHTML=w(l,t)})}window.addEventListener("load",()=>{var t;const e=window.location.pathname;if(e.includes("/blog/")){const n=(t=e.split("/blog/")[1])==null?void 0:t.split("/")[0];n!="new"&&n!="edit"&&Te()}});function Te(){const e=document.querySelectorAll(".image-tool__caption"),t=document.querySelectorAll(".ce-paragraph"),n=document.querySelectorAll(".ce-header"),o=document.querySelectorAll(".cdx-quote__text"),l=document.querySelectorAll(".cdx-quote__caption"),v=document.querySelectorAll(".cdx-list__item");S(e),S(t),S(n),S(o),S(l),S(v);function S(ve){ve.forEach(j=>{j.textContent!=null&&(j.innerHTML=w(j.textContent))})}const H=document.getElementById("post-date"),he=H==null?void 0:H.innerText,be=V(he);H.innerText=be}
